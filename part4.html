<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>파트4</title>
    <link rel="stylesheet" type="text/css" href="./css/styles.css" />
    <link rel="stylesheet" type="text/css" href="./css/swiper.css" />
    <style>
        html,
        body {
            position: relative;
            height: 100%;
        }

        body {
            background: #eee;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 14px;
            color: #000;
            margin: 0;
            padding: 0;
        }

        /* swiper 화살표 컬러*/
        .swiper-button-next, .swiper-button-prev{
            --swiper-theme-color:#929398 ;
        }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <a href="#" class="active">Mobile</a>
        <a href="#">Website</a>
        <a href="#">Editorial</a>
    </nav>
    <!-- Swiper -->
    <div class="swiper mySwiper mobile">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_1.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_2.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_3.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_4.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_5.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_6.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_7.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/11. Part4_1_7.png" alt=""></div><!--더미이미지-->
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
    <div class="swiper mySwiper website" style="display: none;">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="./images/new/part 4/12. Part4_1_1.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/12. Part4_1_2.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/12. Part4_1_3.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/12. Part4_1_4.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/12. Part4_1_4.png" alt=""></div><!--더미이미지-->
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
    <div class="swiper mySwiper editorial" style="display: none;">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_1.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_2.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_3.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_4.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_5.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_6.png" alt=""></div>
            <div class="swiper-slide"><img src="./images/new/part 4/13. Part4_1_6.png" alt=""></div><!--더미이미지-->
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
    <!-- 플로팅 네비게이션 -->
    <nav class="floating-menu">
        <a href="index.html">Home</a>
        <a href="part1.html">Part 1</a>
        <a href="part2.html">Part 2</a>
        <a href="part3.html">Part 3</a>
        <a href="part4.html" class="active">Part 4</a>
    </nav>
    <script src="./assets/js/jquery.js"></script>
    <script src="./assets/js/swiper.js"></script>
    <!-- Initialize Swiper -->
    <script>
        $('.nav-bar a').on('click', function(){
            let idx = $(this).index();

            $('.nav-bar a').removeClass('active');
            $(this).addClass('active');

            $('.mySwiper').hide();
            $('.mySwiper').eq(idx).show();
            
        })

        var mobileSwiper = new Swiper(".mobile", {
            direction: "horizontal",
            slidesPerView: 1,
            mousewheel: true,
            pagination: {
                el: ".swiper-pagination",
                type: "progressbar",
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });

        var websiteSwiper = new Swiper(".website", {
            direction: "horizontal",
            slidesPerView: 1,
            mousewheel: true,
            pagination: {
                el: ".swiper-pagination",
                type: "progressbar",
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });

        var editorialSwiper = new Swiper(".editorial", {
            direction: "horizontal",
            slidesPerView: 1,
            mousewheel: true,
            pagination: {
                el: ".swiper-pagination",
                type: "progressbar",
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });

        var mobileDelta = 0;
        $('.mobile, .website, .editorial').on('wheel', function(e) {
            var delta = e.originalEvent.deltaY;
            if ($(this).hasClass('mobile')) {
                if (delta > 0 && mobileSwiper.isEnd) {
                    $('.mySwiper').hide();
                    $('.website').show();
                    $('.nav-bar a').removeClass('active').eq(1).addClass('active');
                    websiteSwiper.slideTo(0);
                    websiteSwiper.update();
                    e.preventDefault();
                } else if (delta > 0 && mobileSwiper.isBeginning) {
                    mobileDelta = mobileDelta + delta;
                    if (mobileDelta > 100 ) {
                        document.querySelector("body > div.swiper.mySwiper.mobile.swiper-initialized.swiper-horizontal.swiper-backface-hidden > div.swiper-button-next").click();
                        e.preventDefault();
                    }
                } else if (delta > 0 && !mobileSwiper.isBeginning){
                    mobileDelta = 0;
                }
            }
            else if ($(this).hasClass('website')) {
                if (delta > 0 && websiteSwiper.isEnd) {
                    $('.mySwiper').hide();
                    $('.editorial').show();
                    $('.nav-bar a').removeClass('active').eq(2).addClass('active');
                    editorialSwiper.slideTo(0);
                    e.preventDefault();
                } else if (delta < 0 && websiteSwiper.isBeginning) {
                    $('.mySwiper').hide();
                    $('.mobile').show();
                    $('.nav-bar a').removeClass('active').eq(0).addClass('active');
                    mobileSwiper.slideTo(mobileSwiper.slides.length - 1);
                    mobileSwiper.update();
                    document.querySelector("body > div.swiper.mySwiper.mobile.swiper-initialized.swiper-horizontal.swiper-backface-hidden > div.swiper-button-prev").click();
                    e.preventDefault();
                } else if (delta > 0 && websiteSwiper.activeIndex === 0){
                    document.querySelector("body > div.swiper.mySwiper.website.swiper-initialized.swiper-horizontal.swiper-backface-hidden > div.swiper-button-next").click();
                    e.preventDefault();
                }
            }
            else if ($(this).hasClass('editorial')){
                if (delta < 0 && editorialSwiper.isBeginning) {
                    $('.mySwiper').hide();
                    $('.website').show();
                    $('.nav-bar a').removeClass('active').eq(1).addClass('active');
                    websiteSwiper.slideTo(websiteSwiper.slides.length - 1);
                    websiteSwiper.update();
                    document.querySelector("body > div.swiper.mySwiper.website.swiper-initialized.swiper-horizontal.swiper-backface-hidden > div.swiper-button-prev").click();    
                    e.preventDefault();
                } else if (delta > 0 && editorialSwiper.isEnd) {
                    $('.mySwiper').hide();
                    $('.mobile').show();
                    $('.nav-bar a').removeClass('active').eq(0).addClass('active');
                    mobileSwiper.slideTo(0);
                    mobileSwiper.update();
                    e.preventDefault();
                } else if (delta > 0 && editorialSwiper.activeIndex === 0){
                    document.querySelector("body > div.swiper.mySwiper.editorial.swiper-initialized.swiper-horizontal.swiper-backface-hidden > div.swiper-button-next").click();
                    e.preventDefault();
                }
            }
        });
    </script>
</body>
</html>